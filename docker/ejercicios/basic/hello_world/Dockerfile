FROM node

WORKDIR /app

# CREA LA CARPETA APP SI NO EXISTE
# TAMBIEN PODIA HABER PUESTO COPY . ., YA QUE LAS DIRECCIONES RELATIVAS SON EN REFERENCIA AL WORKDIR
COPY . /app

#CON RUN SE EJECUTAN LOS COMANDO NECESARIOS PARA DESPLEGAR LA IMAGEN
# LOS COMANDOS RUN Y CMD SE EJECUTAN SOBRE EL WORKDIR
RUN npm install

#NO IMPORTA QUE EN LA APP ESTEMOS ESCUCHANDO POR UN PUERTO, EN LA IMAGEN HAY QUE ABRIR ESE PUERTO, SINO EL CONTENEDOR NO VA A DEJAR QUE LE ENVIEN O RECIBAN INFORMACION POR AHI
#A MENOS QUE CUANDO CORRAMOS EL CONTENEDOR EXPLICITAMENTE USEMOS -p PARA ABRIR EL PUERTO, PERO DE TODAS FORMAS ES RECOMENDADO HACERLO
EXPOSE 3000

#CON CMD SE EJECUTAN LOS COMANDO A EJECUTAR UNA VEZ LA IMAGEN ESTA DESPLEGADA
CMD [ "node", "app.js"]